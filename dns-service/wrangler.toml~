name = "cyphernetes-dns"
main = "src/index.ts"
compatibility_date = "2024-01-01"

# KV Namespace for storing subdomain mappings
[[kv_namespaces]]
binding = "SUBDOMAINS"
id = "f182b6fea729461d9336c4d81187c93b"

# Custom domain
routes = [
  { pattern = "go.cyphernet.es/*", custom_domain = true }
]

# Environment variables
[vars]
TUNNEL_DOMAIN = "go.cyphernet.es"
MAX_SUBDOMAIN_AGE_SECONDS = "600" # 10 minutes